<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-12">
        <h2 ng-bind="$state.title"></h2>

        <div ncy-breadcrumb></div>
    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="wrapper wrapper-content">
            <div class="row">
                <div class="ibox float-e-margins">
                    <div class="ibox-content" data-nt-spinner data-spinner-show="vm.loading">
                        <form class="form-horizontal" ng-show="!vm.loading" name="detail" >
                            <div class="">
                                <button class="btn btn-info btn-form-md" data-ng-click="vm.cancel()">
                                    <fa name="undo"></fa>
                                    Annuleren
                                </button>
                                <button class="btn btn-info btn-form-md" data-ng-click="vm.save()"
                                        data-ng-disabled="(!detail.$dirty || !detail.$valid) && !vm.objectives_changed">
                                    <fa name="save"></fa>
                                    0pslaan
                                </button>
                                <button class="btn btn-danger btn-form-md pull-right" data-ng-if="vm.website.id"
                                        data-ng-click="vm.remove()">
                                    <fa name="trash"></fa>
                                    Verwijderen
                                </button>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group">
                                <label class="col-lg-2 control-label">Titel</label>

                                <div class="col-lg-10">
                                    <input type="text" placeholder="Titel" class="form-control" required
                                           data-ng-model="vm.website.name">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-2 control-label">Webadres</label>

                                <div class="col-lg-10">
                                    <input type="text" placeholder="http://" class="form-control" required
                                           data-ng-model="vm.website.url">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-2 control-label">Beschrijving</label>

                                <div class="col-lg-10">
                                    <input type="text" placeholder="Beschrijving" class="form-control"
                                           ng-model="vm.website.description">
                                </div>
                            </div>


                            <!-- tags -->
                            <div class="form-group">
                                <label class="col-lg-2 control-label">Tags</label>

                                <div class="col-lg-10">
                                    <tags-input ng-model="vm.website.tags" placeholder="Voeg een tag toe"
                                                add-on-enter="true" add-on-comma="true" display-property="name"
                                                add-on-space="false" replace-spaces-with-dashes="false">
                                        <auto-complete source="vm.loadTags($query)"></auto-complete>
                                    </tags-input>
                                </div>
                            </div>
                            <!-- .tags -->


                            <div class="form-group">
                                <label class="col-lg-2 control-label">
                                    <div>Doelen</div>
                                    <a class="btn btn-default btn-xs" ng-click="vm.gotoObjectives()">
                                        <i class="fa fa-list"></i>
                                    </a>
                                </label>

                                <div class="col-lg-10 table-responsive text-block-200">
                                    <table class="table table-condensed font-sm margin-top-15">
                                        <tbody>
                                        <tr data-ng-repeat="objective in vm.website.objectives">
                                            <td class="col-xs-1 small">{{objective.code}}</td>
                                            <td class="col-xs-11">{{objective.name}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <input type="hidden" name="obj_sniffer" data-ng-bind="vm.website.objectives.length">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

